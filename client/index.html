<html>
	<head>

		<script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
		<script src="/node_modules/socket.io/node_modules/socket.io-client/socket.io.js"></script>

	</head>
	<body style="width:100%;height:100%;font-face:Arial,font-size:0.8em;">

		<div style="float:left;width:40%;height:100%;">
			<h1>Sockey Example Page</h1>

			<h2>Test Examples</h2>
			<button id="example">Click To Activate Example!</button>

			<hr>

			<h2>Register Example</h2>
			<div style="width:100%;">
				<form id="register">
					<input type="text" name="name" placeholder='name'><br>
					<input type="email" name="email" placeholder='email'><br>
					<input type="password" name="password" placeholder='password'><br>
					<button type="submit">Register!</button>
				</form>
			</div>

			<hr>

			<h2>Login Example</h2>
			<div style="width:100%;">
				<form id="login">
					<input type="text" name="name" placeholder='name'><br>
					<input type="password" name="password" placeholder='password'><br>
					<input type="checkbox" value="1" name="rememberme" CHECKED> Remember me<br>
					<button type="submit">Login!</button>
				</form>
			</div>

			<script>

				var socket = io('http://sockey.api');

				$('body').on('click','#example',function(e){

					socket.emit('example',{"foo":"bar"});

				});


				$('body').on('submit','#register',function(e){

					e.preventDefault();
					var pass = {type:'register',user:{}};
				
					pass.user.name = $(this).find('input[name="name"]').val();
					pass.user.email = $(this).find('input[name=email]').val();
					pass.user.password = $(this).find('input[name=password]').val();

					socket.emit('auth',pass);

				});


				$('body').on('submit','#login',function(e){

					e.preventDefault();
					var pass = {type:'login',user:{}};
				
					pass.user.name = $(this).find('input[name="name"]').val();
					pass.user.password = $(this).find('input[name=password]').val();
					pass.user.persistent = $(this).find('input[name=rememberme]').is(':checked');

					socket.emit('auth',pass);

				});

				socket.on('example_data',function(d){

					$("#example-text").append(d.message+'<br>');

				});

				socket.on('auth_data',function(d){

					console.log(d);

					$("#example-text").append("Token recieved: <span style='color:green;'>"+d.res+'</span><br>');
				
				});

				socket.on('auth_error',function(d){

					$("#example-text").append("<span style='color:red;'>"+d.err+'</span><br>');

				}); 

			</script>

		</div>
		<div style="float:left;width:40%;height:100%;padding:5px;" id="example-text">

		</div>

	</body>
</html>